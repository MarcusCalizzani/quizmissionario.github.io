<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Feira Missionária</title>
    <!-- Carrega o Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* Degradê de fundo com textura */
            background-color: #f3f4f6;
            background-image: 
                url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239ca3af' fill-opacity='0.2'%3E%3Cpolygon fill-rule='evenodd' points='0 0 10 0 10 10 0 10' /%3E%3C/g%3E%3C/svg%3E"), 
                linear-gradient(to bottom right, #22c55e, #fde047);
            background-blend-mode: multiply;
            background-attachment: fixed;
        }
        .correct-input {
            border-color: #10B981 !important; /* Tailwind green-500 */
        }
        .incorrect-input {
            border-color: #EF4444 !important; /* Tailwind red-500 */
        }
        /* Cor sólida para o botão de resposta correta, agora mais escura */
        .correct-button {
            background-image: none !important;
            background-color: #16a34a !important; /* Tailwind green-600 */
        }
        /* Cor sólida para o botão de resposta incorreta */
        .incorrect-button {
            background-image: none !important;
            background-color: #ef4444 !important; /* Tailwind red-500 */
        }
        
        @keyframes shake-horizontal {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }
        .animate-shake-horizontal {
            animation: shake-horizontal 0.5s ease-in-out;
        }
        
        @keyframes shake-vertical {
            0%, 100% { transform: translateY(0); }
            20%, 60% { transform: translateY(-5px); }
            40%, 80% { transform: translateY(5px); }
        }
        .animate-shake-vertical {
            animation: shake-vertical 0.5s ease-in-out;
        }
        
        @keyframes fade-out {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-50px); }
        }
        .animate-fade-out {
            animation: fade-out 0.5s ease-out forwards;
        }

        @keyframes fade-in {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.5s ease-in forwards;
        }
    </style>
</head>
<body class="p-4">
    <!-- Imagem no topo da página -->
    <img src="https://i.imgur.com/XFntE7R.png" alt="Logo do Festival de Missões" class="w-1/4 max-w-[128px] mx-auto rounded-xl shadow-md mb-8">
    
    <div id="quiz-container" class="max-w-md mx-auto bg-white p-6 md:p-8 rounded-xl shadow-lg border border-gray-200">
        <header class="text-center mb-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">Quiz Missionário</h1>
            <p class="text-gray-600">Preencha os campos. A próxima pergunta só será desbloqueada se a anterior estiver correta.</p>
        </header>

        <form id="answers-form" class="space-y-6">
            <!-- Pergunta 1 -->
            <div id="q1-container">
                <label for="q1" class="block text-sm font-medium text-gray-700 mb-1">1. Quando foi fundada a Junta de Missões Nacionais?</label>
                <textarea id="q1" name="q1" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 sm:text-sm p-2 bg-gray-50"></textarea>
                <button type="button" onclick="validateAnswer('q1')" id="q1-button" class="mt-2 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-green-500 to-yellow-400 hover:from-green-600 hover:to-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200">
                    Enviar
                </button>
                <p id="q1-answered-message" class="hidden mt-2 text-sm text-green-700 font-medium">Você já respondeu essa pergunta.</p>
            </div>

            <!-- Pergunta 2 (Inicialmente desabilitada) -->
            <div id="q2-container" class="opacity-50 pointer-events-none">
                <label for="q2" class="block text-sm font-medium text-gray-700 mb-1">2. Qual o tema da campanha de missões nacionais de 2025?</label>
                <textarea id="q2" name="q2" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 sm:text-sm p-2 bg-gray-50" disabled></textarea>
                <button type="button" onclick="validateAnswer('q2')" id="q2-button" class="mt-2 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-green-500 to-yellow-400 hover:from-green-600 hover:to-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200" disabled>
                    Enviar
                </button>
                <p id="q2-answered-message" class="hidden mt-2 text-sm text-green-700 font-medium">Você já respondeu essa pergunta.</p>
            </div>

            <!-- Pergunta 3 (Inicialmente desabilitada) -->
            <div id="q3-container" class="opacity-50 pointer-events-none">
                <label for="q3" class="block text-sm font-medium text-gray-700 mb-1">3. Quantos missionários são hoje adotados pela Junta?</label>
                <textarea id="q3" name="q3" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 sm:text-sm p-2 bg-gray-50" disabled></textarea>
                <button type="button" onclick="validateAnswer('q3')" id="q3-button" class="mt-2 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-green-500 to-yellow-400 hover:from-green-600 hover:to-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200" disabled>
                    Enviar
                </button>
                <p id="q3-answered-message" class="hidden mt-2 text-sm text-green-700 font-medium">Você já respondeu essa pergunta.</p>
            </div>

            <!-- Pergunta 4 (Inicialmente desabilitada) -->
            <div id="q4-container" class="opacity-50 pointer-events-none">
                <label for="q4" class="block text-sm font-medium text-gray-700 mb-1">4. Quais são os 3 pilares de Missões?</label>
                <textarea id="q4" name="q4" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 sm:text-sm p-2 bg-gray-50" disabled></textarea>
                <button type="button" onclick="validateAnswer('q4')" id="q4-button" class="mt-2 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-green-500 to-yellow-400 hover:from-green-600 hover:to-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200" disabled>
                    Enviar
                </button>
                <p id="q4-answered-message" class="hidden mt-2 text-sm text-green-700 font-medium">Você já respondeu essa pergunta.</p>
            </div>

            <!-- Botões -->
            <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 pt-4">
                <button type="submit" id="submit-button" class="w-full sm:w-1/2 flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-400 pointer-events-none transition-all duration-200" disabled>
                    Enviar Respostas
                </button>
                <button type="button" id="clear-button" class="w-full sm:w-1/2 flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200">
                    Limpar
                </button>
            </div>
        </form>
    </div>

    <!-- Tela de sucesso (inicialmente oculta) -->
    <div id="success-screen" class="hidden flex flex-col items-center justify-center p-6 md:p-8 bg-white rounded-xl shadow-lg border-2 border-green-500 text-center mx-auto max-w-md mt-6">
        <button class="bg-green-500 text-white p-6 rounded-full shadow-lg transform transition-transform duration-300 ease-in-out hover:scale-110">
            <svg class="h-12 w-12" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
        </button>
        <p class="text-xl md:text-2xl font-bold mt-4 text-green-700">Parabéns, você concluiu toda a Jornada</p>
        <p class="mt-2 text-md md:text-lg text-gray-700">Agora mostre para o monitor no Stand para você passar para a próxima fase!</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('answers-form');
            const clearButton = document.getElementById('clear-button');
            const quizContainer = document.getElementById('quiz-container');
            const successScreen = document.getElementById('success-screen');
            const submitButton = document.getElementById('submit-button');

            const questions = ['q1', 'q2', 'q3', 'q4'];

            window.validateAnswer = (questionId) => {
                const inputElement = document.getElementById(questionId);
                const buttonElement = document.getElementById(`${questionId}-button`);
                
                // Se o input já estiver desabilitado, a pergunta já foi respondida
                if (inputElement.disabled) {
                    buttonElement.textContent = 'Você já respondeu essa pergunta!';
                    setTimeout(() => {
                        buttonElement.textContent = 'Enviar';
                    }, 2000);
                    return;
                }

                const userAnswer = inputElement.value.trim().toLowerCase();
                const nextQuestionId = questions[questions.indexOf(questionId) + 1];
                let isCorrect = false;

                inputElement.classList.remove('correct-input', 'incorrect-input');
                buttonElement.classList.remove('correct-button', 'incorrect-button', 'animate-shake-horizontal', 'animate-shake-vertical');
                buttonElement.classList.remove('bg-gradient-to-r', 'from-green-500', 'to-yellow-400', 'hover:from-green-600', 'hover:to-yellow-500');
                
                // Validação das respostas
                switch (questionId) {
                    case 'q1':
                        isCorrect = userAnswer.includes('1907');
                        break;
                    case 'q2':
                        isCorrect = userAnswer.includes('minha pátria para cristo');
                        break;
                    case 'q3':
                        isCorrect = userAnswer.includes('1800');
                        break;
                    case 'q4':
                        isCorrect = (
                            userAnswer.includes('orar') &&
                            userAnswer.includes('ofertar') &&
                            userAnswer.includes('ir')
                        );
                        break;
                }

                if (isCorrect) {
                    inputElement.classList.add('correct-input');
                    buttonElement.classList.add('correct-button', 'animate-shake-horizontal');
                    buttonElement.textContent = 'Você já respondeu essa pergunta!';

                    setTimeout(() => {
                        buttonElement.classList.remove('animate-shake-horizontal');
                    }, 500);

                    inputElement.disabled = true;
                    buttonElement.disabled = true;

                    if (nextQuestionId) {
                        const nextContainer = document.getElementById(`${nextQuestionId}-container`);
                        nextContainer.classList.remove('opacity-50', 'pointer-events-none');
                        document.getElementById(nextQuestionId).disabled = false;
                        document.getElementById(nextQuestionId).focus();
                        document.getElementById(`${nextQuestionId}-button`).disabled = false;
                        document.getElementById(`${nextQuestionId}-button`).classList.add('bg-gradient-to-r', 'from-green-500', 'to-yellow-400', 'hover:from-green-600', 'hover:to-yellow-500');
                    }
                    
                    if (questionId === 'q4') {
                        submitButton.disabled = false;
                        submitButton.classList.remove('bg-gray-400', 'pointer-events-none');
                        submitButton.classList.add('bg-indigo-600', 'hover:bg-indigo-700');
                    }
                } else {
                    inputElement.classList.add('incorrect-input');
                    buttonElement.classList.add('incorrect-button', 'animate-shake-vertical');
                    buttonElement.textContent = 'Você errou! Tente novamente.';
                    
                    setTimeout(() => {
                        buttonElement.classList.remove('animate-shake-vertical', 'incorrect-button');
                        buttonElement.textContent = 'Enviar';
                        buttonElement.classList.add('bg-gradient-to-r', 'from-green-500', 'to-yellow-400', 'hover:from-green-600', 'hover:to-yellow-500');
                    }, 3000);
                }
            };

            form.addEventListener('submit', (event) => {
                event.preventDefault();
                const q4Input = document.getElementById('q4');
                const q4Answer = q4Input.value.trim().toLowerCase();
                const isQ4Correct = (
                    q4Answer.includes('orar') &&
                    q4Answer.includes('ofertar') &&
                    q4Answer.includes('ir')
                );

                if (isQ4Correct) {
                    quizContainer.classList.add('animate-fade-out');
                    
                    setTimeout(() => {
                        quizContainer.style.display = 'none';
                        successScreen.classList.remove('hidden');
                        successScreen.classList.add('animate-fade-in');
                    }, 500);
                }
            });

            clearButton.addEventListener('click', () => {
                form.reset();
                quizContainer.style.display = 'block';
                successScreen.classList.add('hidden');
                quizContainer.classList.remove('animate-fade-out');

                questions.forEach((id, index) => {
                    const container = document.getElementById(`${id}-container`);
                    const input = document.getElementById(id);
                    const button = document.getElementById(`${id}-button`);
                    
                    if (index === 0) {
                        container.classList.remove('opacity-50', 'pointer-events-none');
                        input.disabled = false;
                        button.disabled = false;
                        button.textContent = 'Enviar';
                    } else {
                        container.classList.add('opacity-50', 'pointer-events-none');
                        input.disabled = true;
                        button.disabled = true;
                        button.textContent = 'Enviar';
                    }
                    input.classList.remove('correct-input', 'incorrect-input');
                    button.classList.remove('correct-button', 'incorrect-button', 'animate-shake-horizontal', 'animate-shake-vertical');
                    button.classList.add('bg-gradient-to-r', 'from-green-500', 'to-yellow-400', 'hover:from-green-600', 'hover:to-yellow-500');
                });
                
                submitButton.disabled = true;
                submitButton.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
                submitButton.classList.add('bg-gray-400', 'pointer-events-none');
            });
        });
    </script>
</body>
</html>
